<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <style>
        @font-face {
            font-family: 'Palui';
            src: url('static/css/fonts/palui.ttf') format("truetype");
        }
        body{
            background-image: url('/static/images/background.png');
        }
    </style>
    <link rel="stylesheet" href="/static/css/style.css"/>
    <title>–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>
<div class="frame_r">
    <div class="header">
        <div class="center_header">
            <div class="header_left">
                <img style="width: 70px;height: 70px" src="static/images/logo.svg">
                <p class="main_text">–ò–ù–í–ï–°–¢–ò–¶–ò–ò<br>–ë–ï–°–ö–û–ù–ï–ß–ù–û–°–¢–ò</p>
            </div>
            <div class="header_right">
                <div id="goToMain" class="block_menu-inactive" style="margin-left: 20px">
                    <p>–ì–ª–∞–≤–Ω–∞—è</p>
                </div>
            </div>
        </div>
    </div>
    <div class="main_container_of_exchange">
        <div style="margin-bottom: 80px" class="exchange_container">
            <div class="exchange_left">
                <p style="font-size: 24px;margin-top: 0px;margin-left: 0px" class="main_text">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</p>
                <div id="inf" class="valutdiv">
                    <div style="display: flex" class="valut_left">
                        <img src="/static/images/infcoin.png"/>
                        <p>100 INFCOIN</p>
                    </div>
                    <p class="invest_up">+‚àû %</p>
                </div>
                <div id="rub" class="valutdiv">
                    <div style="display: flex" class="valut_left">
                        <img src="/static/images/RUB.png"/>
                        <p>100 ‚ÇΩ</p>
                    </div>
                    <p class="invest_up">+28,9 %</p>
                </div>
            </div>
            <div style="height: 916px" class="exchange_right">
                <div class="top_of_exchange">
                    <input type="file" id="avatar_input" accept="image/*" style="display: none;">
<img style="width: 140px; height: 140px; border-radius: 50%; cursor: pointer;"
     id="profile_image" src="../static/images/upload.png" draggable="true" />

                    <div style="display: flex; justify-content: space-between; flex-direction: column; color: white;">
                        <p style="font-family: 'Palui SP Demo'"> {{ username }}</p>
                        <p>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: {{ phone }}</p>
                    </div>
                </div>

                <div style="display: flex; flex-direction: column" class="under_top_of_exchange"><br>
                    <div class="text_profile" style="display: flex;">
                        <p>–°—Ç–∞—Ç—É—Å ‚Äú–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤: </p><p style="color: #FF5B5B; margin-left: 6px;margin-right: 6px">–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</p><p>–Ω–∞–≤—Å–µ–≥–¥–∞‚Äù (–Ω–æ —Å –ª—é–±–æ–≤—å—é ‚ù§Ô∏è)</p><br>
                    </div><br><br>
                    <p style="font-family: Montserrat;font-weight: 600">üîê –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</p><br>
                    <p style="font-weight: 400">
                        –ü–∞—Ä–æ–ª—å –Ω–µ–ª—å–∑—è —Å–º–µ–Ω–∏—Ç—å‚Ä¶ –ø–æ–∫–∞ –Ω–µ –Ω–∞—Å—Ç—É–ø–∏—Ç –∫–æ–Ω–µ—Ü –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏. –ù–æ –Ω–µ –≤–æ–ª–Ω—É–π—Ç–µ—Å—å ‚Äî –º—ã —Å–ª–µ–¥–∏–º –∑–∞ –≤–∞—à–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é —Ç–∞–∫ –∂–µ,
                        –∫–∞–∫ –∑–∞ –∫—É—Ä—Å–æ–º INFCOIN ‚Äî –Ω–∏–∫–∞–∫, –Ω–æ —Å –æ–ø—Ç–∏–º–∏–∑–º–æ–º!
                    </p><br><br>
                    <p style="font-family: Montserrat;font-weight: 600">üõüFAQ (–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã)</p><br>
                    <p>
                        üîê –ú–æ–∂–Ω–æ –ª–∏ —Å–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å?<br>„Ö§- –ù–µ—Ç. –ü–æ–∫–∞ –Ω–µ –Ω–∞—Å—Ç—É–ø–∏—Ç –∫–æ–Ω–µ—Ü –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏. –ü–æ—Ç–µ—Ä–ø–∏—Ç–µ)<br><br>
üí∏ –ö–∞–∫ –≤—ã–≤–µ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞?<br>„Ö§- –ù–∏–∫–∞–∫. –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∞—è. –í—ã –∂–µ –Ω–µ —Å–æ–±–∏—Ä–∞–ª–∏—Å—å —Ä–µ–∞–ª—å–Ω–æ?<br><br>
üìà –ü–æ—á–µ–º—É –∫—É—Ä—Å INFCOIN –≤—Å–µ–≥–¥–∞ —Ä–∞—Å—Ç—ë—Ç?<br>„Ö§- –ü–æ—Ç–æ–º—É —á—Ç–æ –º—ã –Ω–µ —Ä–∏—Å—É–µ–º –≤–Ω–∏–∑. –¢–æ–ª—å–∫–æ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, —Ç–æ–ª—å–∫–æ –≤–≤–µ—Ä—Ö.<br><br>
üßÆ –ß—Ç–æ —Å –º–æ–∏–º–∏ –∞–∫—Ç–∏–≤–∞–º–∏?<br>„Ö§- –û–Ω–∏ —Ä–∞—Å—Ç—É—Ç. –ü–æ—Å—Ç–æ—è–Ω–Ω–æ. –≠—Ç–æ —Ñ–∞–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤.<br><br>
üì¨ –ö—É–¥–∞ –ø–∏—Å–∞—Ç—å –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö?<br>„Ö§- –í –ø–æ–¥–¥–µ—Ä–∂–∫—É. –û—Ç–≤–µ—Ç–∏–º —Å—Ä–∞–∑—É, –∫–∞–∫ —Ç–æ–ª—å–∫–æ INFCOIN –≤—ã–π–¥–µ—Ç –Ω–∞ NASDAQ.
                    </p><br>
                    <div style="display: flex;margin-top: 12px; width: 100%;justify-content: center">
                         <p id="logout" style="font-family: 'Palui SP Demo';color: #FF5B5B; font-size: 13px; cursor: pointer">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    document.getElementById("logout").addEventListener("click", function x(event) {
             window.location.href = "/logout";
    });
    document.getElementById("goToMain").addEventListener("click", function d(event) {
             window.location.href = "/mainPage";
    });
</script>
<script>
const profileImage = document.getElementById('profile_image');
const avatarInput = document.getElementById('avatar_input');

// –ö–ª–∏–∫ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
profileImage.addEventListener('click', () => {
    avatarInput.click();
});

// –í—ã–±–æ—Ä —Ñ–∞–π–ª–∞
avatarInput.addEventListener('change', (e) => {
    const file = e.target.files[0];
    if (file) setAvatar(file);
});

// Drag & Drop
profileImage.addEventListener('dragover', (e) => {
    e.preventDefault();
    profileImage.classList.add('dragover');
});
profileImage.addEventListener('dragleave', () => {
    profileImage.classList.remove('dragover');
});
profileImage.addEventListener('drop', (e) => {
    e.preventDefault();
    profileImage.classList.remove('dragover');
    const file = e.dataTransfer.files[0];
    if (file) setAvatar(file);
});

function setAvatar(file) {
    const reader = new FileReader();
    reader.onload = function (e) {
        const imageUrl = e.target.result;
        profileImage.src = imageUrl;
        localStorage.setItem('avatar', imageUrl);
        console.log("–ê–≤–∞—Ç–∞—Ä —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ localStorage.");
    };
    reader.readAsDataURL(file);
}

// –ó–∞–≥—Ä—É–∂–∞–µ–º –∞–≤–∞—Ç–∞—Ä –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
window.addEventListener('load', () => {
    const savedAvatar = localStorage.getItem('avatar');
    if (savedAvatar) {
        profileImage.src = savedAvatar;
        console.log("–ê–≤–∞—Ç–∞—Ä –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ localStorage.");
    } else {
        console.log("–ê–≤–∞—Ç–∞—Ä –≤ localStorage –Ω–µ –Ω–∞–π–¥–µ–Ω.");
    }
});
</script>


</body>
</html>
